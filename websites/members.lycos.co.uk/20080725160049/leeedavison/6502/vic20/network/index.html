<script type="text/javascript" src="http://ads.tripod.lycos.co.uk/ad/tripodbar/framejs.php?cat=memberpages.other&CC=uk&ord=a62157f&adpref=&gg_bg=&gg_template="></script>
<HTML>
<HEAD>
<TITLE>Vic 20 network interface</TITLE>
<META name="description" content="Vic 20 network interface">
</HEAD>
<BODY BACKGROUND="../../../back.png" LINK="#0000EE" VLINK="#0000CC">
<TABLE BORDER=0 WIDTH=100% CELLSPACING=0 CELLPADDING=0>
<TR><TD WIDTH=25%><A HREF="../index.html#network">
  <IMG SRC="../../../up.gif" BORDER=0 ALT="Up one"></A></TD>
<TD ALIGN=CENTER>
<B><FONT SIZE=+1>Vic 20 network interface </FONT></B><FONT SIZE=-1>by Lee Davison</FONT>
</TD><TD WIDTH=25%><A HREF="../../../index.html">
 <IMG SRC="../../../epc.png" ALIGN=RIGHT BORDER=0 ALT="Up to top"></A>
</TD></TR></TABLE>
<HR>
<B><U>Introduction</U></B>
<IMG SRC="network.jpg" ALIGN=RIGHT BORDER=1 ALT="Live Vic 20 network
  card screenshot" HSPACE=8>
<BLOCKQUOTE><P ALIGN=JUSTIFY>
 This is a developement of my <A HREF="../../suprchips/network/index.html">SuprChip V
 network interface</A> for the Vic 20. So now I can plug my Vic 20 into an ethernet port
 on my home network.
<P ALIGN=JUSTIFY>
 As far as I know this is the first ever ethernet equipped Vic 20 and the first Vic 20
 web server. It may not be much use as such but shows that just because something is
 twenty years old, and not to well specified compared to today's PCs, doesn't mean it
 gets relegated to holding doors open.
<P ALIGN=JUSTIFY>
 I did this for the Vic 20 to see if I could and because I have a Vic 20 or two not doing
 much. I also thought the <A HREF="../isa/index.html">ISA card slot</A> and <A
 HREF="../rom_ram/index.html">ROM/RAM expansion</A> may be usefull for something else
 someday.
</BLOCKQUOTE><BR CLEAR=ALL>
<B><U>Hardware</U></B>
<IMG SRC="cardmac.jpg" ALIGN=RIGHT BORDER=1 ALT="Woohoo! The MAC address in the
 screenshot above is correct!" HSPACE=8>
<BLOCKQUOTE><P ALIGN=JUSTIFY>
 I decided straight off to use a 3Com 3C509B network interface card for two reasons. First
 I seem to have a shed load of the things, and second the code is easier because the 3Com
 card handles much of the housekeeping needed with an NE2000 type NIC.
<P ALIGN=JUSTIFY>
 If you do decide to use some other PC network card make sure that..
<BLOCKQUOTE>
<LI>It works (try it in a PC first).
<LI>The I/O range and interrupt are configured.
<LI>The media type is configured.
</BLOCKQUOTE>
</BLOCKQUOTE>
<BR CLEAR=ALL>
<B><U>Software</U></B>
<IMG SRC="flow.png" ALIGN=RIGHT BORDER=1
 ALT="Flowchart of main program loop" HSPACE=8>
<BLOCKQUOTE><P ALIGN=JUSTIFY>
<A NAME="pages"></A>
 The software is written entirely in assembler for a number of reasons. Vic BASIC doesn't
 directly support interrupts so I would need to use assembly code for that, the Vic BASIC
 <A NAME=poke HREF="vicpoke.html">POKE</A> command doesn't quite work as expected, so that
 would also need to be patched, and it's easier for me to make a ROM than LOAD & SAVE from
 BASIC on the Vic.
<P ALIGN=JUSTIFY>
 The software as it is supports ARP, ICMP echo