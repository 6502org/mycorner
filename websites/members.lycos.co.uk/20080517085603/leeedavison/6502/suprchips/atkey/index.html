<script language="javascript">

myreg=new RegExp("lycos\.co.uk","i");
if ( !myreg.test("'"+top.location+"'") ) {
	nwreg=new RegExp ("http://([^/]+)?(/([a-z0-9A-Z\-\_]+)?[^']+)","i");
	rn=nwreg.exec("'"+self.location+"'");
	if (parent.frames.length==2) { top.location="http://" + rn[1] + rn[2]; }
	else { top.location="http://" + rn[1] + "/" + rn[3]; }
}

if(window == window.top) {
        var address=window.location;
        var s='<html><head><title>'+'</title></head>'+
        '<frameset cols="*,140" frameborder="0" border="0" framespacing="0" onload="return true;" onunload="return true;">'+
        '<frame src="'+address+'?" name="memberPage" marginwidth="0" marginheight="0" scrolling="auto" noresize>'+
		'<frame src="http://ads.tripod.lycos.co.uk/ad/google/frame.php?_url='+escape(address)+'&gg_bg=&gg_template=&mkw=&cat=memberpages.other" name="LycosAdFrame"  marginwidth="0" marginheight="0" scrolling="auto" noresize>'+
        '</frameset>'+
        '</html>';

        document.write(s);      
}
</script>
<HTML>
<HEAD><TITLE>SuprDupr AT keyboard driver</TITLE>
<META name="description" content="An AT keyboard driver for the SuprDupr.">
</HEAD>
<BODY BACKGROUND="../../../back.png" LINK="#0000EE" VLINK="#0000CC">
<TABLE BORDER=0 WIDTH=100% CELLSPACING=0 CELLPADDING=0><TR><TD WIDTH=25%>
<A HREF="../index.html#atkey"><IMG SRC="../../../up.gif" BORDER=0 ALT="Up one"></A></TD>
<TD WIDTH=50% ALIGN=CENTER><B><FONT SIZE=+1>AT keyboard interface driver </FONT></B>
<FONT SIZE=-1>by Lee Davison</FONT></TD><TD WIDTH=25%>
<A HREF="../../../index.html">
 <IMG SRC="../../../epc.png" ALIGN=RIGHT BORDER=0 ALT="Up to top"></A>
</TD></TR></TABLE>
<HR>
<P>
<IMG SRC="atkey.jpg" ALIGN=RIGHT BORDER=1 ALT="SuprDupr with AT keyboard" HSPACE=8>
<B><U>Introduction.</U></B>
<BLOCKQUOTE><P ALIGN=JUSTIFY>
 The SuprDupr has a PS2 style socket for an AT keyboard. However, as it arrived, the
 data and clock go to the GAL and so were jumped directly to port 7, bits 7 and 6, on the
 micro. There are also positions for pullup resistors on both the keyboard data and clock
 lines, these are not needed and were omitted. These details may have changed as this was
 an early production board.
</BLOCKQUOTE>
<B><U>Software.</U></B>
<BLOCKQUOTE><P ALIGN=JUSTIFY>
 The software is unfinished and provided as a starting point for anyone who wishes
 to make their own. As provided the driver provides very reliable basic keyboard handling.
<P ALIGN=JUSTIFY>
 During developement it was noticed that the keyboard driver would sometimes hang so some
 test code was added to monitor the reliability (included in the source but commented out)
 and it was found that the routine wouldn't return about once in every 750,000 calls.
<P ALIGN=JUSTIFY>
 This was eventually traced to a faulty keyboard 