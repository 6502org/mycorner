<script type="text/javascript" src="http://ads.tripod.lycos.co.uk/ad/tripodbar/framejs.php?cat=memberpages.other&CC=uk&ord=57f82b22&adpref=&gg_bg=&gg_template="></script>
<HTML>
<HEAD><TITLE>IDE bus interface circuit</TITLE>
</HEAD>
<BODY BACKGROUND="../../back.png" LINK="#0000EE" VLINK="#0000CC">
<TABLE BORDER=0 WIDTH=100% CELLSPACING=0 CELLPADDING=0><TR><TD WIDTH=20%>
<A HREF="../index.html"><IMG SRC="../../up.gif" BORDER=0 ALT="Up one"></A></TD>
<TD WIDTH=60% ALIGN=CENTER><B><FONT SIZE=+1>IDE bus interface circuit </FONT></B>
<FONT SIZE=-1>By Lee Davison.</FONT></TD><TD WIDTH=20%><A HREF="../../index.html">
 <IMG SRC="../../epc.png" ALIGN=RIGHT BORDER=0 ALT="Up to top"></A>
</TD></TR></TABLE>
<HR>
<B><U>Hardware.</U></B>
<CENTER>
<B>IDE Bus interface circuit.</B>
<P>
 <IMG SRC="ide.png" TITLE="IDE bus interface circuit" BORDER=1><P>
</CENTER>
<BLOCKQUOTE><P ALIGN=JUSTIFY>
 The connector on the top left of the diagram is from my own 6502 boards (see <A
 HREF="../sbc/index.html">sbc project</A>) and is as it is for two reasons. It's easy
 to wire on a stripboard layout and I have a lot of 26 way ribbon, headers and plugs.
 All the signals are directly from the 6502 except /SEL0 and /SEL1 which are used to
 select the block $F1xx with /SEL0 = 1 and /SEL1 = 0.
<P ALIGN=JUSTIFY>
 A 40 pin IDC header, re-cycled from a PC motherboard, is used to connect to the IDE bus.
<P ALIGN=JUSTIFY>
 All the capacitors are low ESR electrolytics and are placed one near each chip. If you
 don't have this type to hand you can use standard electrolytics with some low value
 ceramic capacitor, say 0.1uF, in parallel.
<P ALIGN=JUSTIFY>
<A NAME=link_1></A>
 The GAL16V8A is used to generate the read and write strobes for the buffers and latches
 and to generate the IOR and IOW strobes for the IDE bus. All are active low. The
 interface uses 32 bytes in the address range as it is a 16 bit port with 16 addresses.
 For anyone interested the equations for this chip are in <A
 HREF="ide_01pld.html">ide_01.pld</A> and can be compiled with WinCUPL. The fuse file, <A
 HREF="ide_01jed.html">ide_01.jed</A> and the compiler listing, <A
 HREF="ide_01txt.html">ide_01.txt</A> are also included.
<P>
<TABLE BGCOLOR=WHITE BORDER=1 CELLSPACING=0 CELLPADDING=3 WIDTH=85% ALIGN=CENTER>
<CAPTION ALLIGN=TOP><B>IDE ATA Interface address map. High byte at address+1</B></CAPTION>
<TR>
<TD><B>Address</B></TD><TD><B>Read</B></TD><TD><B>Write</B></TD><TD><B>Width</B></TD>
</TR><TR>
<TD>$00</TD><TD COLSPAN=2 ALIGN=CENTER>Data</TD><TD>16 Bit</TD>
</TR><TR>
<TD>$02</TD><TD ALIGN=CENTER>Error</TD><TD ALIGN=CENTER>Precomp</TD><TD>8 Bit</TD>
</TR><TR>
<TD>$04</TD><TD COLSPAN=2 ALIGN=CENTER>Sector count</TD><TD>8 Bit</TD>
</TR><TR>
<TD>$06</TD>
<TD COLSPAN=2 ALIGN=CENTER>LBA bits 0 to 8 / CHS Sector number</TD><TD>8 Bit</TD>
</TR><TR>
<TD>$08</TD>
<TD COLSPAN=2 ALIGN=CENTER>LBA bits 8 to 15 / CHS Cylinder low</TD><TD>8 Bit</TD>
</TR><TR>
<TD>$0A</TD>
<TD COLSPAN=2 ALIGN=CENTER>LBA bits 16 to 23 / CHS Cylinder high</TD><TD>8 Bit</TD>
</TR><TR>
<